/** Chunk was on 49750 **/
n.d(t, {
  ZP: () => eK,
  m9: () => ex,
  o: () => eD
}), n(47120), n(301563);
var r, i = n(913527),
  l = n.n(i),
  o = n(442837),
  s = n(743426),
  a = n(704215),
  c = n(433517),
  u = n(570140),
  d = n(579806),
  _ = n(726542),
  E = n(812206),
  p = n(223892),
  m = n(674525),
  h = n(605236),
  f = n(353926),
  g = n(594190),
  N = n(38618),
  O = n(569545),
  I = n(615365),
  b = n(528011),
  T = n(487419),
  C = n(715903),
  S = n(223606),
  y = n(160404),
  P = n(41776),
  R = n(347649),
  A = n(332473),
  v = n(30684),
  x = n(646476),
  D = n(616106),
  L = n(995598),
  k = n(774276),
  j = n(518638),
  M = n(1844),
  Z = n(621615),
  U = n(417626),
  w = n(569984),
  V = n(523255),
  G = n(900735),
  F = n(768419),
  W = n(590415),
  B = n(581883),
  H = n(199902),
  z = n(314897),
  Y = n(881998),
  K = n(463395),
  X = n(592125),
  q = n(553795),
  Q = n(427123),
  J = n(271383),
  $ = n(430824),
  ee = n(131951),
  et = n(292959),
  en = n(496675),
  er = n(571474),
  ei = n(19780),
  el = n(944486),
  eo = n(914010),
  es = n(215427),
  ea = n(246946),
  ec = n(558724),
  eu = n(23434),
  ed = n(594174),
  e_ = n(979651),
  eE = n(351402),
  ep = n(853872),
  em = n(78839),
  eh = n(431),
  ef = n(580130),
  eg = n(695103),
  eN = n(358085),
  eO = n(74538),
  eI = n(922156),
  eb = n(436181),
  eT = n(941128),
  eC = n(981631),
  eS = n(188785),
  ey = n(474936),
  eP = n(46140),
  eR = n(231338),
  eA = n(65154);

function ev(e, t, n) {
  return t in e ? Object.defineProperty(e, t, {
    value: n,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : e[t] = n, e
}
let ex = {
    [eC.kVF.LOCALIZED_PRICING]: a.z.NAGBAR_NOTICE_LOCALIZED_PRICING,
    [eC.kVF.DOWNLOAD_NAG]: a.z.NAGBAR_NOTICE_DOWNLOAD,
    [eC.kVF.CONNECT_SPOTIFY]: a.z.NAGBAR_NOTICE_CONNECT_SPOTIFY,
    [eC.kVF.CONNECT_PLAYSTATION]: a.z.NAGBAR_NOTICE_CONNECT_PLAYSTATION,
    [eC.kVF.MFA_SMS_BACKUP]: a.z.NAGBAR_NOTICE_MFA_SMS_BACKUP,
    [eC.kVF.PREMIUM_TIER_2_TRIAL_ENDING]: a.z.NAGBAR_NOTICE_PREMIUM_TIER_TWO_TRIAL_ENDING,
    [eC.kVF.PREMIUM_REACTIVATE]: a.z.NAGBAR_NOTICE_PREMIUM_REACTIVATE,
    [eC.kVF.BOUNCED_EMAIL_DETECTED]: a.z.NAGBAR_BOUNCED_EMAIL_NOTICE,
    [eC.kVF.ACTIVATE_SERVER_SUBSCRIPTION]: a.z.NAGBAR_ACTIVATE_SERVER_SUBSCRIPTION,
    [eC.kVF.PREMIUM_TIER_0_TRIAL_ENDING]: a.z.NAGBAR_NOTICE_PREMIUM_TIER_0_TRIAL_ENDING,
    [eC.kVF.POMELO_ELIGIBLE]: a.z.NAGBAR_NOTICE_POMELO,
    [eC.kVF.UU_MIGRATION]: a.z.UU_MIGRATION_NOTICE,
    [eC.kVF.CHECKOUT_RECOVERY_NAGBAR]: a.z.CHECKOUT_RECOVERY_NAGBAR
  },
  eD = {
    [eC.kVF.GIFTING_PROMOTION_REMINDER]: a.z.GIFTING_PROMOTION_REMINDER
  },
  eL = {
    [eC.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]: "hideDetectedOffPlatformPremiumPerkUpsell",
    [eC.kVF.PREMIUM_UNCANCEL]: "hideUncancelReminder",
    [eC.kVF.PREMIUM_MISSING_PAYMENT]: "hideMissingPaymentReminder",
    [eC.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT]: "hidePastDueMissingPaymentReminder",
    [eC.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT]: "hidePastDueInvalidPaymentReminder",
    [eC.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT]: "hidePastDueOneTimePaymentReminder",
    [eC.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION]: "hideAutoModerationMentionRaidDetectionNotice",
    [eC.kVF.GUILD_RAID_NOTIFICATION]: "hideGuildRaidDetectionNotice",
    [eC.kVF.SERVER_USAGE_SURVEY]: "hideServerUsageSurvey",
    [eC.kVF.WIN32_DEPRECATED_MESSAGE]: "hideWin32DeprecationMessageNotice",
    [eC.kVF.WIN7_8_DEPRECATED_MESSAGE]: "hideWin78DeprecationMessageNotice",
    [eC.kVF.PREMIUM_TIER_2_TRIAL_ENDING]: "hidePremiumTier2TrialOfferEndingNotice",
    [eC.kVF.BLOCK_USER_FEEDBACK_NAGBAR]: "hideNagbarBlockUserFeedbackNotice",
    [eC.kVF.MACOS_19_DEPRECATED_MESSAGE]: "hideMacOS19DeprecationMessageNotice"
  },
  ek = new Set([eC.kVF.NO_INPUT_DETECTED, eC.kVF.NO_INPUT_DEVICES_DETECTED, eC.kVF.STREAMER_MODE, eC.kVF.VIDEO_UNSUPPORTED_BROWSER, eC.kVF.SPOTIFY_AUTO_PAUSED, eC.kVF.DISPATCH_ERROR, eC.kVF.DISPATCH_ERROR, eC.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS, eC.kVF.BLOCKED_BY_PROXY]),
  ej = {},
  eM = {},
  eZ = Object.freeze({
    id: null,
    message: null,
    buttonText: null,
    callback: void 0,
    metadata: null
  }),
  eU = null;

function ew(e) {
  return eL[e] + "-untilAtLeast"
}

function eV(e, t, n) {
  if (null == e) return;
  let r = eL[e];
  (null == r || t || c.K.set(r, !0), ek.has(e) && (ej[e] = !0), null != n && null != r) ? c.K.set(ew(e), n.format("YYYY-MM-DDTHH:mm:ss.SSSZ")): c.K.remove(ew(e))
}

function eG(e) {
  if (null == e) return !1;
  let t = eD[e];
  if (null != t) return (0, h.H4)(t).isDismissed;
  let n = function(e) {
    let {
      enabled: t
    } = k.cI.getCurrentConfig({
      location: "NoticeStore_isNoticeDismissed"
    }, {
      autoTrackExposure: !0,
      disable: e !== eC.kVF.PREMIUM_TIER_2_TRIAL_ENDING
    });
    return t ? null : ex[e]
  }(e);
  if (null != n) return (0, h.un)(n);
  let r = eL[e];
  if (null != r) {
    let t = function(e) {
      let t = c.K.get(ew(e));
      return null != t ? l()(t) : null
    }(e);
    if (null != t) return null == t ? void 0 : t.isAfter(l()())
  }
  let i = ej[e];
  return !!i || (null != r && "" !== r ? c.K.get(r) : !!ek.has(e) && i)
}
let eF = [eC.kVF.QUARANTINED, eC.kVF.AUTOMOD_QUARANTINED_USER_PROFILE, eC.kVF.VIEWING_ROLES, eC.kVF.INVITED_TO_SPEAK, eC.kVF.LURKING_GUILD, eC.kVF.VOICE_DISABLED, eC.kVF.NO_INPUT_DEVICES_DETECTED, eC.kVF.NO_INPUT_DETECTED, eC.kVF.HARDWARE_MUTE, eC.kVF.H264_DISABLED, eC.kVF.DISPATCH_ERROR, eC.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS, eC.kVF.SPOTIFY_AUTO_PAUSED, eC.kVF.WIN32_DEPRECATED_MESSAGE, eC.kVF.WIN7_8_DEPRECATED_MESSAGE, eC.kVF.MACOS_19_DEPRECATED_MESSAGE, eC.kVF.BLOCKED_BY_PROXY, eC.kVF.VOICE_CONNECTED_LAST_SESSION, eC.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION, eC.kVF.GUILD_RAID_NOTIFICATION, eC.kVF.GIFTING_PROMOTION_REMINDER, eC.kVF.QUESTS_PROGRESS_INTERRUPTION, eC.kVF.UNCLAIMED_ACCOUNT, eC.kVF.POMELO_ELIGIBLE, eC.kVF.PENDING_MEMBER, eC.kVF.CHECKOUT_RECOVERY_NAGBAR, eC.kVF.OUTBOUND_PROMOTION, eC.kVF.CORRUPT_INSTALLATION, eC.kVF.VIDEO_UNSUPPORTED_BROWSER, eC.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK, eC.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL, eC.kVF.STREAMER_MODE, eC.kVF.SCHEDULED_MAINTENANCE, eC.kVF.BOUNCED_EMAIL_DETECTED, eC.kVF.UNVERIFIED_ACCOUNT, eC.kVF.PREMIUM_TIER_2_TRIAL_ENDING, eC.kVF.PREMIUM_TIER_0_TRIAL_ENDING, eC.kVF.PREMIUM_UNCANCEL, eC.kVF.PREMIUM_MISSING_PAYMENT, eC.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT, eC.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT, eC.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT, eC.kVF.PREMIUM_REACTIVATE, eC.kVF.ACTIVATE_SERVER_SUBSCRIPTION, eC.kVF.MFA_SMS_BACKUP, eC.kVF.APPLICATION_TEST_MODE, eC.kVF.LOCALIZED_PRICING, eC.kVF.DOWNLOAD_NAG, eC.kVF.CONNECT_SPOTIFY, eC.kVF.CONNECT_PLAYSTATION, eC.kVF.SURVEY, eC.kVF.SERVER_USAGE_SURVEY, eC.kVF.SAFETY_USER_SENTIMENT_NAGBAR, eC.kVF.UU_MIGRATION, eC.kVF.BLOCK_USER_FEEDBACK_NAGBAR],
  eW = [eC.kVF.QUARANTINED, eC.kVF.AUTOMOD_QUARANTINED_USER_PROFILE, eC.kVF.VIEWING_ROLES, eC.kVF.INVITED_TO_SPEAK, eC.kVF.LURKING_GUILD, eC.kVF.VOICE_DISABLED, eC.kVF.NO_INPUT_DETECTED, eC.kVF.HARDWARE_MUTE, eC.kVF.H264_DISABLED, eC.kVF.DISPATCH_ERROR, eC.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS, eC.kVF.SPOTIFY_AUTO_PAUSED, eC.kVF.BLOCKED_BY_PROXY, eC.kVF.VOICE_CONNECTED_LAST_SESSION, eC.kVF.PENDING_MEMBER, eC.kVF.STREAMER_MODE, eC.kVF.SCHEDULED_MAINTENANCE],
  eB = {
    [eC.kVF.GIFTING_PROMOTION_REMINDER]: {
      predicate: () => {
        let {
          enabled: e
        } = x.Ys.getCurrentConfig({
          location: "NoticeStore"
        }, {
          autoTrackExposure: !1
        }), {
          enabled: t
        } = x.ZP.getCurrentConfig({
          location: "NoticeStore"
        }, {
          autoTrackExposure: !1
        });
        return e && t && (0, h.H4)(a.z.GIFTING_PROMOTION_DESKTOP_FIRST_TIME_COACHMARK).isDismissed && !eG(eC.kVF.GIFTING_PROMOTION_REMINDER)
      }
    },
    [eC.kVF.GUILD_RAID_NOTIFICATION]: {
      predicate: () => (0, b.g)().show && !eG(eC.kVF.GUILD_RAID_NOTIFICATION),
      metadata: () => ({
        dismissUntil: l()().add(3, "hours").toDate()
      })
    },
    [eC.kVF.AUTOMOD_QUARANTINED_USER_PROFILE]: {
      predicate: e => {
        let {
          currentUser: t,
          selectedGuildId: n
        } = e;
        if (null == n) return !1;
        let r = J.ZP.getMember(n, t.id);
        return null != r && !r.isPending && (0, C.EY)(r)
      }
    },
    [eC.kVF.QUARANTINED]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return t.hasFlag(eC.xW$.QUARANTINED)
      }
    },
    [eC.kVF.VIEWING_ROLES]: {
      predicate: e => {
        let {
          selectedGuildId: t
        } = e;
        return y.Z.isViewingRoles(t)
      }
    },
    [eC.kVF.INVITED_TO_SPEAK]: {
      predicate: e => {
        let {
          voiceState: t
        } = e;
        return (0, W.gf)(t) === W.xO.REQUESTED_TO_SPEAK_AND_AWAITING_USER_ACK
      }
    },
    [eC.kVF.LURKING_GUILD]: {
      predicate: e => {
        let {
          selectedGuildId: t
        } = e;
        return null != t && P.Z.isLurking(t)
      }
    },
    [eC.kVF.VOICE_DISABLED]: {
      predicate: () => null != ei.Z.getRemoteDisconnectVoiceChannelId()
    },
    [eC.kVF.VOICE_CONNECTED_LAST_SESSION]: {
      predicate: () => null != ei.Z.getLastSessionVoiceChannelId()
    },
    [eC.kVF.NO_INPUT_DETECTED]: {
      predicate: e => {
        let {
          voiceChannelId: t,
          voiceState: n
        } = e, r = X.Z.getChannel(t), i = (null == r ? void 0 : r.isGuildStageVoice()) && (null == n ? void 0 : n.suppress);
        return !1 === ee.Z.getInputDetected() && !i
      }
    },
    [eC.kVF.NO_INPUT_DEVICES_DETECTED]: {
      predicate: e => {
        let {
          voiceChannelId: t,
          voiceState: n
        } = e, r = X.Z.getChannel(t), i = (null == r ? void 0 : r.isGuildStageVoice()) && (null == n ? void 0 : n.suppress);
        return 0 === Object.keys(ee.Z.getInputDevices()).length && null != r && !i
      }
    },
    [eC.kVF.H264_DISABLED]: {
      predicate: e => {
        let {
          voiceChannelId: t
        } = e, n = X.Z.getChannel(t);
        return !ee.Z.getOpenH264() && null != t && e_.Z.hasVideo(t) && null != n && n.isGuildStageVoice()
      }
    },
    [eC.kVF.HARDWARE_MUTE]: {
      predicate: () => ei.Z.isConnected() && ee.Z.isHardwareMute() && ee.Z.isEnableHardwareMuteNotice(),
      metadata: () => {
        let e = ee.Z.getInputDeviceId(),
          t = K.Z.getVendor(e),
          n = K.Z.getModel(e);
        if (null != t && null != n) return {
          vendor: t,
          model: n
        }
      }
    },
    [eC.kVF.DISPATCH_ERROR]: {
      predicate: () => null != eI.Z.getLastError(),
      metadata: () => ({
        error: eI.Z.getLastError()
      })
    },
    [eC.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS]: {
      predicate: () => null != eb.Z.getLastProgress(),
      metadata: () => eb.Z.getLastProgress()
    },
    [eC.kVF.SPOTIFY_AUTO_PAUSED]: {
      predicate: () => F.Z.wasAutoPaused()
    },
    [eC.kVF.BLOCKED_BY_PROXY]: {
      predicate: () => !eG(eC.kVF.BLOCKED_BY_PROXY) && U.Z.blockedByProxy && Z.Z.getCurrentConfig({
        location: "notice_store"
      }).eligibleForNotice
    },
    [eC.kVF.UNCLAIMED_ACCOUNT]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return null != t && !t.isClaimed()
      }
    },
    [eC.kVF.PENDING_MEMBER]: {
      predicate: e => {
        var t, n, r;
        let {
          selectedGuildId: i,
          currentUser: l
        } = e;
        return null !== (r = null != i && null != l && !(null === (t = $.Z.getGuild(i)) || void 0 === t ? void 0 : t.hasFeature(eC.oNc.GUILD_ONBOARDING)) && (null === (n = J.ZP.getMember(i, l.id)) || void 0 === n ? void 0 : n.isPending)) && void 0 !== r && r
      }
    },
    [eC.kVF.OUTBOUND_PROMOTION]: {
      predicate: () => (0, j.tq)()
    },
    [eC.kVF.CORRUPT_INSTALLATION]: {
      predicate: () => eN.isPlatformEmbedded && (!s.Z.supported() || eT.Z.isCorruptInstallation())
    },
    [eC.kVF.VIDEO_UNSUPPORTED_BROWSER]: {
      predicate: e => {
        let {
          voiceChannelId: t
        } = e;
        return null != t && e_.Z.hasVideo(t) && !ee.Z.supports(eA.AN.VIDEO) && !eG(eC.kVF.VIDEO_UNSUPPORTED_BROWSER)
      }
    },
    [eC.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return eO.ZP.canRedeemPremiumPerks(t) && Q.Z.getDetectedOffPlatformPremiumPerks().length > 0
      },
      metadata: () => Q.Z.getDetectedOffPlatformPremiumPerks()[0]
    },
    [eC.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL]: {
      predicate: () => !eG(eC.kVF.DETECTED_OFF_PLATFORM_PREMIUM_PERK_UPSELL) && Q.Z.getDetectedOffPlatformPremiumPerks().length > 0,
      metadata: () => Q.Z.getDetectedOffPlatformPremiumPerks()[0]
    },
    [eC.kVF.STREAMER_MODE]: {
      predicate: () => ea.Z.enabled
    },
    [eC.kVF.DOWNLOAD_NAG]: {
      predicate: () => !eN.isPlatformEmbedded && !eG(eC.kVF.DOWNLOAD_NAG)
    },
    [eC.kVF.SCHEDULED_MAINTENANCE]: {
      predicate: () => null != es.Z.getScheduledMaintenance(),
      metadata: () => {
        let e = es.Z.getScheduledMaintenance();
        if (null != e) return {
          id: e.id,
          start: new Date(e.scheduled_for),
          end: new Date(e.scheduled_until)
        }
      }
    },
    [eC.kVF.SURVEY]: {
      predicate: () => null != ec.Z.getCurrentSurvey(),
      metadata: () => ec.Z.getCurrentSurvey()
    },
    [eC.kVF.SERVER_USAGE_SURVEY]: {
      predicate: e => {
        let {
          selectedGuildId: t
        } = e;
        return null != t && I.Z.getCurrentConfig({
          location: "notice_store"
        }).showSurvey && !eG(eC.kVF.SERVER_USAGE_SURVEY)
      },
      metadata: e => {
        let {
          selectedGuildId: t,
          currentUser: n
        } = e;
        return {
          selectedGuildId: t,
          currentUser: n
        }
      }
    },
    [eC.kVF.UNVERIFIED_ACCOUNT]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return (null == t ? void 0 : t.email) != null && !t.verified
      }
    },
    [eC.kVF.BOUNCED_EMAIL_DETECTED]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return null == t ? void 0 : t.hasBouncedEmail
      }
    },
    [eC.kVF.CONNECT_SPOTIFY]: {
      predicate: () => !F.Z.hasConnectedAccount() && g.ZP.isObservedAppRunning(_.Z.get(eC.ABu.SPOTIFY).name) && !eG(eC.kVF.CONNECT_SPOTIFY)
    },
    [eC.kVF.WIN32_DEPRECATED_MESSAGE]: {
      predicate: () => (null === d.Z || void 0 === d.Z ? void 0 : d.Z.os.arch) === "ia32" && (null === d.Z || void 0 === d.Z ? void 0 : d.Z.process.platform) === "win32",
      metadata: () => ({
        dismissUntil: l()().add(5, "days").toDate()
      })
    },
    [eC.kVF.WIN7_8_DEPRECATED_MESSAGE]: {
      predicate: () => {
        if ((null === d.Z || void 0 === d.Z ? void 0 : d.Z.process.platform) === "win32") try {
          return 10 > parseInt(null === d.Z || void 0 === d.Z ? void 0 : d.Z.os.release.split(".")[0])
        } catch (e) {}
        return !1
      },
      metadata: () => ({
        dismissUntil: l()().add(5, "days").toDate()
      })
    },
    [eC.kVF.MACOS_19_DEPRECATED_MESSAGE]: {
      predicate: () => {
        if ((null === d.Z || void 0 === d.Z ? void 0 : d.Z.process.platform) === "darwin") try {
          return 20 > parseInt(null === d.Z || void 0 === d.Z ? void 0 : d.Z.os.release.split(".")[0])
        } catch (e) {}
        return !1
      },
      metadata: () => ({
        dismissUntil: l()().add(5, "days").toDate()
      })
    },
    [eC.kVF.CONNECT_PLAYSTATION]: {
      predicate: () => q.Z.isSuggestedAccountType(eC.ABu.PLAYSTATION) && null == q.Z.getAccount(null, eC.ABu.PLAYSTATION) && !eG(eC.kVF.CONNECT_PLAYSTATION)
    },
    [eC.kVF.PREMIUM_TIER_2_TRIAL_ENDING]: {
      predicate: () => eh.Z.getAlmostExpiringTrialOffers([ey.Si.TIER_2]).length > 0 && !eG(eC.kVF.PREMIUM_TIER_2_TRIAL_ENDING)
    },
    [eC.kVF.PREMIUM_TIER_0_TRIAL_ENDING]: {
      predicate: () => eh.Z.getAlmostExpiringTrialOffers([ey.Si.TIER_0]).length > 0 && !eG(eC.kVF.PREMIUM_TIER_0_TRIAL_ENDING)
    },
    [eC.kVF.PREMIUM_UNCANCEL]: {
      predicate: e => {
        let {
          premiumSubscription: t,
          currentUser: n
        } = e, r = null != t ? l()(t.currentPeriodEnd).diff(l()().startOf("day"), "days") : 0, i = (null == t ? void 0 : t.canceledAt) != null && (null == t ? void 0 : t.status) === eC.O0b.CANCELED && 1 >= l()().diff(l()(t.canceledAt), "days"), o = null != t && l()(t.currentPeriodEnd).isBefore(l()()), s = null != t && t.status === eC.O0b.CANCELED && !o && r <= 7 && r >= 0 && (0, eO.M5)(n, ey.p9.TIER_2) && !i && !n.hasFreePremium() && !t.isPurchasedExternally;
        return !eG(eC.kVF.PREMIUM_UNCANCEL) && s
      },
      metadata: e => {
        var t;
        let {
          premiumSubscription: n
        } = e, r = null != n ? l()(n.currentPeriodEnd).diff(l()().startOf("day"), "days") : 0, i = null != n ? null === (t = (0, eO.Af)(n)) || void 0 === t ? void 0 : t.planId : null;
        return {
          daysLeft: r,
          premiumType: null != i ? eO.ZP.getPremiumType(i) : null,
          premiumSubscription: n
        }
      }
    },
    [eC.kVF.PREMIUM_MISSING_PAYMENT]: {
      predicate: e => {
        let {
          premiumSubscription: t,
          currentUser: n
        } = e, r = null != t ? l()(t.currentPeriodEnd).diff(l()().startOf("day"), "days") : 0, i = null != t ? l()(t.currentPeriodEnd).diff(l()(t.currentPeriodStart).startOf("day"), "days") : 0, o = null != t && l()(t.currentPeriodEnd).isBefore(l()()), s = ef.Z.applicationIdsFetched.has(ey.CL), a = ef.Z.getForApplication(ey.CL), c = null != t ? (0, eO.Af)(t) : null, u = null != c ? eO.ZP.getSkuIdForPlan(c.planId) : null, d = null != a && null != c && Array.from(a).filter(e => {
          let {
            skuId: t,
            consumed: n
          } = e;
          return !n && t === u
        }).length > 0, _ = null != t && r <= (i > 14 ? 7 : 2) && r >= 0 && t.status !== eC.O0b.PAST_DUE && !o && s && !d && null === t.paymentSourceId && !n.hasFreePremium() && !t.isPurchasedExternally;
        return !eG(eC.kVF.PREMIUM_MISSING_PAYMENT) && _
      },
      metadata: e => {
        var t;
        let {
          premiumSubscription: n
        } = e, r = null != n ? l()(n.currentPeriodEnd).diff(l()().startOf("day"), "days") : 0, i = null != n ? null === (t = (0, eO.Af)(n)) || void 0 === t ? void 0 : t.planId : null;
        return {
          daysLeft: r,
          premiumType: null != i ? eO.ZP.getPremiumType(i) : null,
          premiumSubscription: n
        }
      }
    },
    [eC.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT]: {
      predicate: e => {
        let {
          premiumSubscription: t,
          currentUser: n
        } = e, r = null != t && null != t.paymentSourceId ? ep.Z.getPaymentSource(t.paymentSourceId) : null, i = null != t && l()(t.currentPeriodEnd).isBefore(l()()), o = null != t && t.status === eC.O0b.PAST_DUE && !i && null != r && r.invalid && !n.hasFreePremium() && !t.isPurchasedExternally;
        return !eG(eC.kVF.PREMIUM_PAST_DUE_INVALID_PAYMENT) && o
      },
      metadata: e => {
        let {
          premiumSubscription: t
        } = e;
        return {
          premiumSubscription: t
        }
      }
    },
    [eC.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT]: {
      predicate: e => {
        let {
          premiumSubscription: t,
          currentUser: n
        } = e, r = null != t && l()(t.currentPeriodEnd).isBefore(l()()), i = null != t && t.status === eC.O0b.PAST_DUE && !r && null === t.paymentSourceId && !n.hasFreePremium() && !t.isPurchasedExternally;
        return !eG(eC.kVF.PREMIUM_PAST_DUE_MISSING_PAYMENT) && i
      },
      metadata: e => {
        let {
          premiumSubscription: t
        } = e;
        return {
          premiumSubscription: t
        }
      }
    },
    [eC.kVF.MFA_SMS_BACKUP]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return null != t && t.mfaEnabled && !t.hasFlag(eC.xW$.MFA_SMS) && !t.hasFlag(eC.xW$.STAFF) && !t.hasFlag(eC.xW$.PARTNER) && !eG(eC.kVF.MFA_SMS_BACKUP)
      }
    },
    [eC.kVF.APPLICATION_TEST_MODE]: {
      predicate: () => null != eg.Z.testModeApplicationId,
      metadata: () => {
        if (null == eg.Z.testModeApplicationId) return {};
        let e = eg.Z.testModeApplicationId,
          t = E.Z.getApplication(e);
        return {
          applicationName: null != t ? t.name : e,
          applicationId: e
        }
      }
    },
    [eC.kVF.PREMIUM_REACTIVATE]: {
      predicate: () => !eG(eC.kVF.PREMIUM_REACTIVATE) && D.Z.shouldShowReactivateNotice()
    },
    [eC.kVF.LOCALIZED_PRICING]: {
      predicate: e => {
        let {
          isLocalizedPromoEnabled: t
        } = e;
        return !eG(eC.kVF.LOCALIZED_PRICING) && t
      },
      metadata: e => {
        let {
          premiumSubscription: t
        } = e;
        return {
          premiumSubscription: t
        }
      }
    },
    [eC.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT]: {
      predicate: e => {
        let {
          premiumSubscription: t,
          currentUser: n
        } = e, r = null != t && l()(t.currentPeriodEnd).isBefore(l()()), i = null != t && null != t.paymentSourceId ? ep.Z.getPaymentSource(t.paymentSourceId) : null, o = null != i && eR.Uk.has(i.type), s = null != t && t.status === eC.O0b.PAST_DUE && !r && o && !n.hasFreePremium() && !t.isPurchasedExternally;
        return !eG(eC.kVF.PREMIUM_PAST_DUE_ONE_TIME_PAYMENT) && s
      },
      metadata: e => {
        let {
          premiumSubscription: t
        } = e;
        return null == t ? {
          daysPastDue: 0,
          dismissUntil: l()().toDate()
        } : {
          daysPastDue: t.status === eC.O0b.PAST_DUE ? l()().diff(t.currentPeriodStart, "days") : 0,
          dismissUntil: (0, eO.lY)(t).expiresDate.toDate()
        }
      }
    },
    [eC.kVF.POMELO_ELIGIBLE]: {
      predicate: () => (0, A.e)() && !eG(eC.kVF.POMELO_ELIGIBLE) && !(0, R.ov)()
    },
    [eC.kVF.UU_MIGRATION]: {
      predicate: () => (0, A.e)() && !eG(eC.kVF.UU_MIGRATION) && (0, R.ov)()
    },
    [eC.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION]: {
      predicate: e => {
        let {
          selectedGuildId: t
        } = e, n = null != t ? $.Z.getGuild(t) : null;
        return null != t && null != S.Z.getMentionRaidDetected(t) && (null == n ? void 0 : n.hasFeature(eC.oNc.COMMUNITY)) && !eG(eC.kVF.AUTO_MODERATION_MENTION_RAID_DETECTION) || !1
      },
      metadata: e => {
        let {
          selectedGuildId: t
        } = e, n = {
          dismissUntil: l()().add(2, "hours").toDate()
        };
        if (null != t) {
          let e = S.Z.getMentionRaidDetected(t);
          null != e && (n.decisionId = e.decisionId)
        }
        return n
      }
    },
    [eC.kVF.ACTIVATE_SERVER_SUBSCRIPTION]: {
      predicate: () => !eG(eC.kVF.ACTIVATE_SERVER_SUBSCRIPTION) && 0 !== m.Z.getEligibleGuildsForNagActivate().length && (0, p.Lm)()
    },
    [eC.kVF.SAFETY_USER_SENTIMENT_NAGBAR]: {
      predicate: e => {
        let {
          currentUser: t
        } = e;
        return V.SI(t)
      }
    },
    [eC.kVF.QUESTS_PROGRESS_INTERRUPTION]: {
      predicate: () => {
        let e = H.Z.getCurrentUserActiveStream();
        if (null == e) return !1;
        let t = (0, O.V9)(e),
          n = w.Z.getStreamHeartbeatFailure(t);
        return null != n && Date.now() - n.firstFailedAt >= eP.Ot
      },
      metadata: () => {
        let e = H.Z.getCurrentUserActiveStream();
        return {
          streamKey: null != e ? (0, O.V9)(e) : null
        }
      }
    },
    [eC.kVF.CHECKOUT_RECOVERY_NAGBAR]: {
      predicate: e => {
        var t;
        let {
          currentUser: n
        } = e, r = null !== (t = ep.Z.paymentSources) && void 0 !== t ? t : {};
        return v.Z.getIsTargeted() && !(0, eO.I5)(n) && 0 !== Object.keys(r).length && (0, L.Y)()
      }
    },
    [eC.kVF.BLOCK_USER_FEEDBACK_NAGBAR]: {
      predicate: () => !eG(eC.kVF.BLOCK_USER_FEEDBACK_NAGBAR) && G.S(),
      metadata: () => ({
        dismissUntil: l()().add(180, "days").toDate(),
        sampleRate: .1
      })
    }
  };

function eH() {
  var e, t, n;
  if (!N.Z.isConnected()) return !1;
  eU = null;
  let r = ed.default.getCurrentUser();
  if (null == r) return !1;
  let i = em.ZP.getPremiumSubscription(),
    l = eE.Z.isLocalizedPromoEnabled,
    o = eo.Z.getGuildId(),
    s = el.Z.getVoiceChannelId(),
    a = null != s ? e_.Z.getVoiceStateForChannel(s) : null;
  for (let n of eS.a ? eW : eF)
    if (null != eB[n] && eB[n].predicate({
        selectedGuildId: o,
        voiceChannelId: s,
        voiceState: a,
        currentUser: r,
        premiumSubscription: i,
        isLocalizedPromoEnabled: l
      })) {
      let l = null === (e = (t = eB[n]).metadata) || void 0 === e ? void 0 : e.call(t, {
        currentUser: r,
        premiumSubscription: i,
        selectedGuildId: o
      });
      eU = function(e, t) {
        return t = null != t ? t : {}, Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : (function(e, t) {
          var n = Object.keys(e);
          if (Object.getOwnPropertySymbols) {
            var r = Object.getOwnPropertySymbols(e);
            n.push.apply(n, r)
          }
          return n
        })(Object(t)).forEach(function(n) {
          Object.defineProperty(e, n, Object.getOwnPropertyDescriptor(t, n))
        }), e
      }(function(e) {
        for (var t = 1; t < arguments.length; t++) {
          var n = null != arguments[t] ? arguments[t] : {},
            r = Object.keys(n);
          "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function(e) {
            return Object.getOwnPropertyDescriptor(n, e).enumerable
          }))), r.forEach(function(t) {
            ev(e, t, n[t])
          })
        }
        return e
      }({}, eZ), {
        type: n,
        metadata: l
      });
      break
    } if (null != eU) {
    (null === (n = eU.metadata) || void 0 === n ? void 0 : n.sampleRate) != null && null == eM[eU.type] && (eM[eU.type] = Math.random() <= eU.metadata.sampleRate);
    let e = !1 === eM[eU.type];
    (eG(eU.type) || e) && (eU = null)
  }
}

function ez() {
  return ea.Z.enabled || delete ej[eC.kVF.STREAMER_MODE], eH()
}
class eY extends(r = o.ZP.Store) {
  initialize() {
    this.syncWith([ec.Z, er.Z, Q.Z, eo.Z, M.Z, eh.Z, Y.Z, q.Z, B.Z, T.Z, w.Z, H.Z], eH), this.waitFor(ed.default, es.Z, $.Z, J.ZP, ei.Z, ee.Z, ea.Z, f.Z, eo.Z, eu.Z, F.Z, g.ZP, er.Z, eI.Z, eb.Z, eg.Z, et.Z, em.ZP, eT.Z, Q.Z, ep.Z, en.Z, M.Z, ef.Z, eh.Z, q.Z, P.Z, m.Z, U.Z, w.Z, H.Z)
  }
  hasNotice() {
    return null != eU && null != eU.type
  }
  getNotice() {
    return null == eu.Z.getAction() ? eU : null
  }
  isNoticeDismissed(e) {
    return eG(e)
  }
}
ev(eY, "displayName", "NoticeStore");
let eK = new eY(u.Z, {
  CURRENT_USER_UPDATE: eH,
  MEDIA_ENGINE_SET_AUDIO_ENABLED: eH,
  CLEAR_REMOTE_DISCONNECT_VOICE_CHANNEL_ID: eH,
  CLEAR_LAST_SESSION_VOICE_CHANNEL_ID: eH,
  STATUS_PAGE_SCHEDULED_MAINTENANCE: eH,
  STATUS_PAGE_SCHEDULED_MAINTENANCE_ACK: eH,
  GUILD_CREATE: eH,
  GUILD_DELETE: eH,
  AUDIO_INPUT_DETECTED: eH,
  AUDIO_SET_DISPLAY_SILENCE_WARNING: eH,
  CERTIFIED_DEVICES_SET: eH,
  AUDIO_SET_INPUT_DEVICE: eH,
  AUDIO_SET_OUTPUT_DEVICE: eH,
  MEDIA_ENGINE_DEVICES: eH,
  RTC_CONNECTION_STATE: eH,
  RPC_APP_AUTHENTICATED: eH,
  RPC_APP_DISCONNECTED: eH,
  USER_CONNECTIONS_UPDATE: eH,
  WINDOW_FOCUS: eH,
  INSTANT_INVITE_CREATE: eH,
  INSTANT_INVITE_REVOKE_SUCCESS: eH,
  SPOTIFY_PLAYER_PAUSE: eH,
  RUNNING_GAMES_CHANGE: eH,
  EXPERIMENTS_FETCH_SUCCESS: eH,
  PREMIUM_PAYMENT_SUBSCRIBE_SUCCESS: eH,
  DEVELOPER_TEST_MODE_AUTHORIZATION_SUCCESS: eH,
  DEVELOPER_TEST_MODE_AUTHORIZATION_FAIL: eH,
  DEVELOPER_TEST_MODE_RESET: eH,
  BILLING_SUBSCRIPTION_FETCH_SUCCESS: eH,
  DISPATCH_APPLICATION_INSTALL: eH,
  IMPERSONATE_STOP: eH,
  IMPERSONATE_UPDATE: eH,
  GUILD_MEMBER_ADD: function(e) {
    return e.user.id === z.default.getId() && eH()
  },
  GUILD_MEMBER_UPDATE: eH,
  SURVEY_FETCHED: eH,
  ENTITLEMENT_FETCH_APPLICATION_SUCCESS: eH,
  BILLING_PAYMENT_SOURCE_REMOVE_SUCCESS: eH,
  BILLING_SUBSCRIPTION_UPDATE_SUCCESS: eH,
  BILLING_MOST_RECENT_SUBSCRIPTION_FETCH_SUCCESS: eH,
  VOICE_STATE_UPDATES: function(e) {
    let {
      voiceStates: t
    } = e;
    return t.some(e => {
      let {
        userId: t
      } = e;
      return t !== z.default.getId()
    }) && eH()
  },
  STREAMER_MODE_UPDATE: ez,
  RUNNING_STREAMER_TOOLS_CHANGE: ez,
  DISPATCH_APPLICATION_ERROR: function() {
    return delete ej[eC.kVF.DISPATCH_ERROR], eH()
  },
  DISPATCH_APPLICATION_LAUNCH_SETUP_START: function() {
    return delete ej[eC.kVF.DISPATCH_INSTALL_SCRIPT_PROGRESS], eH()
  },
  DISPATCH_APPLICATION_INSTALL_SCRIPTS_PROGRESS_UPDATE: function() {
    return eH()
  },
  DISPATCH_APPLICATION_LAUNCH_SETUP_COMPLETE: function() {
    return eH()
  },
  NOTICE_SHOW: function(e) {
    eU = e.notice
  },
  NOTICE_DISMISS: function(e) {
    return null != eU && (null == e.id || e.id === eU.id) && (eV(eU.type, e.isTemporary, e.untilAtLeast), eH())
  },
  NOTICE_DISABLE: function(e) {
    let {
      noticeType: t
    } = e;
    return eV(t), eH()
  },
  LOGOUT: function() {
    ej = {}, eM = {}, eU = null
  },
  SUBSCRIPTION_PLANS_FETCH_SUCCESS: eH,
  AUTO_MODERATION_MENTION_RAID_DETECTION: eH,
  CREATOR_MONETIZATION_NAG_ACTIVATE_ELIGIBLITY_FETCH_SUCCESS: eH,
  PROXY_BLOCKED_REQUEST: eH
})