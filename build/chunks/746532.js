/** Chunk was on 27601 (6abf43565ed83bfb.js) **/
n.r(t), n.d(t, {
  default: () => q
}), n(177593), n(47120);
var l = n(392711),
  r = n.n(l),
  i = n(261470),
  a = n(524437),
  u = n(812206),
  o = n(339085),
  s = n(353926),
  c = n(653255),
  d = n(810788),
  f = n(355298),
  g = n(763296),
  Z = n(569471),
  S = n(260483),
  P = n(144140),
  m = n(581883),
  p = n(48481),
  E = n(199902),
  v = n(314897),
  I = n(523746),
  y = n(592125),
  A = n(757266),
  O = n(480294),
  b = n(831506),
  h = n(77498),
  _ = n(486472),
  R = n(650774),
  T = n(271383),
  w = n(430824),
  D = n(293273),
  N = n(131951),
  L = n(158776),
  U = n(19780),
  j = n(306680),
  C = n(699516),
  M = n(944486),
  k = n(9156),
  G = n(594174),
  H = n(979651),
  V = n(853872),
  F = n(695103),
  z = n(449224),
  W = n(181106),
  B = n(237997),
  Y = n(145597);
async function q(e, t) {
  let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new i.Z;
  await new Promise(e => setImmediate(e));
  let l = G.default.getCurrentUser();
  if (null == l) return new Promise(l => {
    n.fail(() => {
      l(q(e, t, n))
    })
  });
  n.succeed();
  let x = Object.values(G.default.getUsers()),
    J = Object.values(w.Z.getGuilds()),
    Q = w.Z.getAllGuildsRoles(),
    K = r().values(y.Z.getInitialOverlayState()),
    X = T.ZP.getMutableAllGuildsAndMembers(),
    $ = j.ZP.getAllReadStates(!0),
    ee = H.Z.getAllVoiceStates(),
    et = L.Z.getState(),
    en = _.Z.unavailableGuilds,
    el = r().mapValues(o.ZP.getGuilds(), e => e.emojis),
    er = k.ZP.getAllSettings(),
    ei = I.Z.getInternalState(),
    ea = W.Z.getStates(),
    eu = A.Z.getAllConnections(),
    eo = D.Z.getApplicationActivities(),
    es = b.Z.getParties(),
    ec = b.Z.getUserParties(),
    ed = v.default.getSessionId(),
    ef = v.default.getAnalyticsToken(),
    eg = z.Z.getGameForPID(t),
    eZ = R.Z.getMemberCounts(),
    eS = C.Z.getRelationships(),
    eP = Array.from(f.Z.getMessageRequestChannelIds()),
    em = M.Z.getVoiceChannelId(),
    ep = B.Z.getFocusedPID(),
    eE = B.Z.getSelectedGuildId(),
    ev = B.Z.getSelectedChannelId(),
    eI = N.Z.getState(),
    ey = h.Z.games,
    eA = Object.values(V.Z.paymentSources).map(e => e.toJS()),
    eO = V.Z.defaultPaymentSourceId,
    eb = V.Z.hasFetchedPaymentSources,
    eh = E.Z.getStreamingState(),
    e_ = u.Z._getAllApplications().map(e => e.toJS()),
    eR = F.Z.testModeApplicationId,
    eT = {
      null: {
        state: U.Z.getState(),
        pings: U.Z.getPings(),
        quality: U.Z.getQuality(),
        hostname: U.Z.getHostname(),
        lossRate: U.Z.getOutboundLossRate()
      }
    },
    ew = Array.from(d.Z.getState().hiddenHotspots),
    eD = s.Z.getSerializedState(),
    eN = c.Z.getState(),
    eL = Z.Z.getInitialOverlayState(),
    eU = S.Z.getInitialOverlayState(),
    ej = P.Z.getInitialOverlayState(),
    eC = (0, p.xU)(a.o8, m.Z.settings),
    eM = g.Z.getOverlaySerializedState(),
    ek = O.Z.consents;
  return {
    type: "OVERLAY_INITIALIZE",
    version: Y.Tq,
    users: x,
    guilds: J,
    allGuildsRoles: Q,
    channels: K,
    guildMembers: X,
    readStates: $,
    voiceStates: ee,
    unavailableGuilds: en,
    emojis: el,
    allUserGuildSettings: er,
    callStoreInternalState: ei,
    activityLauncherStates: ea,
    connectedApps: eu,
    localActivities: eo,
    parties: es,
    userParties: ec,
    user: l,
    messageRequestChannelIds: eP,
    token: e,
    sessionId: ed,
    analyticsToken: ef,
    presences: et,
    currentGame: eg,
    selectedVoiceChannelId: em,
    selectedChannelId: ev,
    selectedGuildId: eE,
    guildMemberCounts: eZ,
    relationships: eS,
    mediaEngineState: eI,
    rtcConnectionStates: eT,
    focusedPID: ep,
    applications: e_,
    paymentSources: eA,
    defaultPaymentSourceId: eO,
    hasFetchedPaymentSources: eb,
    testModeApplicationId: eR,
    applicationStreamState: eh,
    hiddenHotspots: ew,
    serializedExperimentStore: eD,
    streamingCapabilitiesStoreState: eN,
    joinedThreads: eL,
    threadMembers: eU,
    threadMessages: ej,
    userSettingsProto: eC,
    soundboardStoreState: eM,
    detectableApplications: ey,
    consents: ek
  }
}